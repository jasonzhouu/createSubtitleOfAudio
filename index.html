<div id="waveform"></div>
<button id="pause" onclick="wavesurfer.playPause()">pause</button>
<button id="start">sentence start</button>
<button id="end">sentence end</button>
<input type="text" id="note">

<script src="https://unpkg.com/wavesurfer.js"></script>

<script>
    var wavesurfer = WaveSurfer.create({
        container: '#waveform'
    });
    wavesurfer.load('./xwz1.mp3');
    wavesurfer.on('ready', function () {
        wavesurfer.play();
    });
    var timeSlice = [];

    function printTime(prefix) {
        var time = wavesurfer.getCurrentTime();
        var timeItem = document.createElement('li')
        timeItem.textContent = prefix + time
        document.body.append(timeItem)
    }

    function sentenceStart() {
        printTime('start: ')
        var start = wavesurfer.getCurrentTime();
        timeSlice.push({
            start
        })
    }

    function addDataToTimeSliceArray(dataType, data) {
        var l = timeSlice.length
        var currentSlice = timeSlice[l - 1]
        currentSlice[dataType] = data
    }

    function sentenceEnd() {
        printTime('end: ');
        var end = wavesurfer.getCurrentTime();
        addDataToTimeSliceArray('end', end)
    }

    var startBtn = document.getElementById('start')
    var stopBtn = document.getElementById('end')
    startBtn.onclick = sentenceStart;
    stopBtn.onclick = sentenceEnd;

    var input = document.getElementById('note')
    input.addEventListener('input', (e) => {
        addDataToTimeSliceArray('note', e.target.value)
    })

</script>